const boardgame = `
[
    {
     "ID": 1,
     "image": "b1.jpg",
     "name": "The mind",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 2,
     "image": "b2.jpg",
     "name": "Sitting Duck Gallery",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 3
    },
    {
     "ID": 3,
     "image": "b3.jpg",
     "name": "Exploding Kitten",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 1
    },
    {
     "ID": 4,
     "image": "b4.jpg",
     "name": "When i dream",
     "category": "borad game",
     "Lender": "Tony",
     "status": 2
    },
    {
     "ID": 5,
     "image": "b5.jpg",
     "name": "Dixit",
     "category": "borad game",
     "Lender": "Tony",
     "status": 1
    },
    {
     "ID": 6,
     "image": "b6.jpg",
     "name": "Detective Club",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 3
    },
    {
     "ID": 7,
     "image": "b7.jpg",
     "name": "Salem 1692",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 3
    },
    {
     "ID": 8,
     "image": "b8.jpg",
     "name": "2nd Edition",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 9,
     "image": "b9.jpg",
     "name": "Modeen Art",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 10,
     "image": "b10.jpg",
     "name": "Splendor",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 11,
     "image": "b11.jpg",
     "name": "Newton",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 12,
     "image": "b12.jpg",
     "name": "The Settlers of Catan",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 13,
     "image": "b13.jpg",
     "name": "Pandemic",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 14,
     "image": "b14.jpg",
     "name": "THE ELEMENT",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 15,
     "image": "b15.jpg",
     "name": "ORGANS GO!",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 16,
     "image": "b16.jpg",
     "name": "PHUKET : HOTEL TYCOON",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 17,
     "image": "b17.jpg",
     "name": "Metsovo",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 18,
     "image": "b18.jpg",
     "name": "DEFUSE",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 19,
     "image": "b19.jpg",
     "name": "WANA",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 20,
     "image": "b20.jpg",
     "name": "Flower Shop",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 21,
     "image": "b21.jpg",
     "name": "Meeple Detective",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 22,
     "image": "b22.jpg",
     "name": "Tale of Carrot : Rise of Heros",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 23,
     "image": "b23.jpg",
     "name": "Mogel Motte",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 24,
     "image": "b24.jpg",
     "name": "Deception",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 25,
     "image": "b25.jpg",
     "name": "Secret Hitler",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 26,
     "image": "b26.jpg",
     "name": "Geistes Blitz",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 27,
     "image": "b27.jpg",
     "name": "Citadels",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 28,
     "image": "b28.jpg",
     "name": "Ultimate Werewolf",
     "category": "borad game",
     "Lender": "Jhon",
     "status": 0
    },
    {
     "ID": 29,
     "image": "b29.jpg",
     "name": "One Night Ultimate Werewolf",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 30,
     "image": "b30.jpg",
     "name": "Chinatown",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 31,
     "image": "b31.jpg",
     "name": "Codenames Pictures",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 32,
     "image": "b32.jpg",
     "name": "Spyfall",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 33,
     "image": "b33.jpg",
     "name": "Survive from the Atlantis!",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 34,
     "image": "b34.jpg",
     "name": "Avalon",
     "category": "borad game",
     "Lender": "Lisa",
     "status": 0
    },
    {
     "ID": 35,
     "image": "b35.jpg",
     "name": "Uno Flip!",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 36,
     "image": "b36.jpg",
     "name": "Happy salmon",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 37,
     "image": "b37.jpg",
     "name": "Die Fiesen 7",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    },
    {
     "ID": 38,
     "image": "b38.jpg",
     "name": "Fallout Shelter",
     "category": "borad game",
     "Lender": "Tony",
     "status": 0
    }
   ]
`
const boradgame = JSON.parse(boardgame)
let currentPage = 1;
const totalPages = Math.ceil(boardgame.length / 7);

function showTable(pageNumber) {
  currentPage = pageNumber;
  const startIndex = (currentPage - 1) * 7;
  const endIndex = Math.min(startIndex + 7, boardgame.length);
  const tableBody = document.getElementById("display");

  tableBody.innerHTML = ""; // Clear table content

  for (let start = startIndex; start < endIndex; start++) {
    let Mystatus;
    if (boradgame[start].status === 0) {
      Mystatus = "Available";
    } else if (boradgame[start].status === 1) {
      Mystatus = "Disable";
    } else if (boradgame[start].status === 2) {
      Mystatus = "Panding";
    } else if (boradgame[start].status === 3) {
      Mystatus = "Brorrwed";
    }

    tableBody.innerHTML += `
      <tr>
        <td>${boradgame[start].ID}</td>
        <td><img src="/public/img/DATA_IMG/${boradgame[start].image}" alt="" style="margin: 0 auto; "></td>
        <td>${boradgame[start].name}</td>
        <td>${boradgame[start].category}</td>
        <td><button class="Edit" onclick="Editfun(${boradgame[start].ID})">Edit</button></td>
        <td><div id="${Mystatus}" style="margin: 0 auto;">${Mystatus}</div></td>
      </tr>
    `;
  }
}

// Show initial data for the first page
showTable(1);

// Button Event Listeners
document.getElementById("next").addEventListener("click", () => {
  if (currentPage < totalPages) {
    showTable(currentPage + 1);
  }
});

document.getElementById("Back").addEventListener("click", () => {
  if (currentPage > 1) {
    showTable(currentPage - 1);
  }
});
const options = {
  backdrop: "static",
  keyboard: false,
};
const myModal1 = new bootstrap.Modal(
  document.getElementById("ADD"),
  options,
);
const myModal2 = new bootstrap.Modal(
  document.getElementById("EDIT"),
  options,
);
var index = -1
function Editfun(ID) {
  index = boradgame.findIndex(function (Asset) {
    return ID == Asset.ID
  })
  console.log(index)
  const newName = document.querySelector('#asset')
  const newCategory = document.querySelector('#category')
  const element = document.getElementById("sta");
  const img = document.getElementById("img");

  newName.value = boradgame[index].name
  newCategory.value = boradgame[index].category
  element.style.backgroundColor = "#92FFBE";
  img.innerHTML =`<img src='/public/img/DATA_IMG/${boradgame[index].image}'style="width: 300px;height: auto;">`
  myModal2.show()
  
}

//<td><button id="Edit" data-bs-toggle="modal" data-bs-target="#EDIT">Edit</button></td>